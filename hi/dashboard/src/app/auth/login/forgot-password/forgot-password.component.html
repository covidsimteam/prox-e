<nb-alert
  *ngIf="showMessages.error && !submitted"
  outline="danger"
  role="alert"
>
  <p class="alert-title"><b>Login Failed</b></p>
  <ul class="alert-message-list">
    <li class="alert-message">{{ showMessages.error }}</li>
  </ul>
</nb-alert>

<nb-alert
  *ngIf="showMessages.success && !submitted"
  outline="success"
  role="alert"
>
  <p class="alert-title"><b>Login Succeeded</b></p>
  <ul class="alert-message-list">
    <li class="alert-message">{{ showMessages.success }}</li>
  </ul>
</nb-alert>

<div class="row centrino">
  <div class="col-md-6">
    <nb-card>
      <nb-card-header
        >Please enter your email to set a new password:</nb-card-header
      >
      <nb-card-body>
        <form
          [formGroup]="forgotPasswordForm"
          (submit)="forgotPassword()"
          aria-labelledby="title"
          class="form-horizontal"
        >
          <div class="form-group row">
            <label for="input-email" class="label col-sm-2 form-control-label"
              >Email</label
            >
            <div class="col-sm-8">
              <input
                nbInput
                fullWidth
                formControlName="username"
                name="username"
                id="input-email"
                placeholder="Email"
                fieldSize="large"
                autofocus
                [status]="
                  f.email.dirty
                    ? f.email.invalid
                      ? 'danger'
                      : 'success'
                    : 'basic'
                "
                [required]="true"
                [attr.aria-invalid]="
                  f.email.invalid && f.email.touched ? true : null
                "
              />
              <ng-container *ngIf="f.email.invalid && f.email.touched">
                <p
                  class="caption status-danger"
                  *ngIf="f.username.errors?.required"
                >
                  Email is required
                </p>
              </ng-container>
            </div>
          </div>
                   <div class="form-group row">
            <div class="offset-sm-2 col-sm-4">
              <button
                nbButton
                fullWidth
                outline
                status="primary"
                size="large"
                [disabled]="!forgotPasswordForm.valid"
              >
                Reset Password
              </button>
            </div>
          </div>

          <div class="form-group">
            <a routerLink="/auth/register" class="btn btn-link">Register</a>
            <a routerLink="/auth/login" class="btn btn-link">Log In</a>
        </div>
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<nb-layout style="display: none"></nb-layout>
